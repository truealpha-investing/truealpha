<!-- ONLY THE CHANGED SECTION + JS BELOW.
     Replace your entire <section class="mt-6 glass ..."> block (time interval)
     AND replace the initLeaderboard() interval parsing part with the JS below.
-->

<section class="mt-6 glass soft-shadow rounded-2xl p-5">
  <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
    <div>
      <h2 class="font-bold text-lg">Creator performance by horizon</h2>
      <p class="text-xs text-gray-400 mt-1" id="intervalSub">90 / 180 / 365 day alpha</p>
    </div>
    <div class="text-[11px] text-gray-400 uppercase tracking-wider">Short / Medium / Long</div>
  </div>

  <div class="mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4">

    <div class="glass rounded-2xl p-4">
      <div class="flex items-center justify-between">
        <div class="font-bold" id="shortLabel">Short (90d)</div>
        <div class="text-xs text-gray-400">alpha</div>
      </div>

      <div class="mt-4 grid grid-cols-2 gap-4">
        <div>
          <div class="text-xs font-bold text-green-400 tracking-wider">TOP</div>
          <div id="shortTop" class="mt-3 space-y-2"></div>
        </div>
        <div>
          <div class="text-xs font-bold text-red-400 tracking-wider">BOTTOM</div>
          <div id="shortBottom" class="mt-3 space-y-2"></div>
        </div>
      </div>
    </div>

    <div class="glass rounded-2xl p-4">
      <div class="flex items-center justify-between">
        <div class="font-bold" id="medLabel">Medium (180d)</div>
        <div class="text-xs text-gray-400">alpha</div>
      </div>

      <div class="mt-4 grid grid-cols-2 gap-4">
        <div>
          <div class="text-xs font-bold text-green-400 tracking-wider">TOP</div>
          <div id="medTop" class="mt-3 space-y-2"></div>
        </div>
        <div>
          <div class="text-xs font-bold text-red-400 tracking-wider">BOTTOM</div>
          <div id="medBottom" class="mt-3 space-y-2"></div>
        </div>
      </div>
    </div>

    <div class="glass rounded-2xl p-4">
      <div class="flex items-center justify-between">
        <div class="font-bold" id="longLabel">Long (365d)</div>
        <div class="text-xs text-gray-400">alpha</div>
      </div>

      <div class="mt-4 grid grid-cols-2 gap-4">
        <div>
          <div class="text-xs font-bold text-green-400 tracking-wider">TOP</div>
          <div id="longTop" class="mt-3 space-y-2"></div>
        </div>
        <div>
          <div class="text-xs font-bold text-red-400 tracking-wider">BOTTOM</div>
          <div id="longBottom" class="mt-3 space-y-2"></div>
        </div>
      </div>
    </div>

  </div>

  <div class="mt-4 flex items-center justify-between text-[11px] text-gray-500">
    <span>Entry: close price on publish date · Benchmark: SPY</span>
    <a id="dbLinkBottom"
       href="https://docs.google.com/spreadsheets/d/1JFZaZ_jC9PR7EKucweHkkO-vdCPXiWSk_6-ey02T2RE/edit?gid=1723289430#gid=1723289430"
       target="_blank"
       class="text-green-400 hover:text-green-300 font-semibold">
      Open Full Database →
    </a>
  </div>
</section>

<script>
  // Replace only the INTERVALS part inside initLeaderboard() with this block.

  const short = data?.intervals?.short || {};
  const med = data?.intervals?.medium || {};
  const long = data?.intervals?.long || {};

  document.getElementById("shortLabel").textContent = short.label || "Short (90d)";
  document.getElementById("medLabel").textContent = med.label || "Medium (180d)";
  document.getElementById("longLabel").textContent = long.label || "Long (365d)";

  const buildAlphaRows = (bucket, kind) => (bucket?.[kind] || []).slice(0, 4).map(x => rowCreator({
    rank: pillRank(x.rank ?? "", kind === "top" ? "good" : "bad"),
    creator: x.creator || "—",
    valueText: fmtPct(x.alpha),
    valueClass: kind === "top" ? "text-green-300" : "text-red-300",
    subText: typeof x.n === "number"
      ? `n=${x.n} · ${(x.confidence || confidenceLabel(x.n))} confidence`
      : ""
  })).join("");

  document.getElementById("shortTop").innerHTML = buildAlphaRows(short, "top") || `<div class="text-sm text-gray-400">No data.</div>`;
  document.getElementById("shortBottom").innerHTML = buildAlphaRows(short, "bottom") || `<div class="text-sm text-gray-400">No data.</div>`;

  document.getElementById("medTop").innerHTML = buildAlphaRows(med, "top") || `<div class="text-sm text-gray-400">No data.</div>`;
  document.getElementById("medBottom").innerHTML = buildAlphaRows(med, "bottom") || `<div class="text-sm text-gray-400">No data.</div>`;

  document.getElementById("longTop").innerHTML = buildAlphaRows(long, "top") || `<div class="text-sm text-gray-400">No data.</div>`;
  document.getElementById("longBottom").innerHTML = buildAlphaRows(long, "bottom") || `<div class="text-sm text-gray-400">No data.</div>`;
</script>
